/* $linq Version 2.0.0 (by Kurtis Jones @ https://github.com/battousai999/js-linq) */
define(["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function t(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var n=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),a=function(){function e(){t(this,e)}return n(e,null,[{key:"convertToString",value:function(e){return null==e?null:e.toString()}},{key:"convertToNumber",value:function(e){return c.isNumber(e)?e:NaN}},{key:"isConstructorCompatibleSource",value:function(e){return c.isIterable(e)||c.isGenerator(e)||c.isFunction(e)||c.isLinq(e)}},{key:"isStringNullOrEmpty",value:function(e){return null==e||""===e}},{key:"isTypedArray",value:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}},{key:"isIndexedCollection",value:function(r){return Array.isArray(r)||c.isString(r)||e.isTypedArray(r)}},{key:"isCollectionHavingLength",value:function(r){return e.isIndexedCollection(r)}},{key:"isCollectionHavingSize",value:function(e){return e instanceof Set||e instanceof Map}},{key:"isCollectionHavingExplicitCardinality",value:function(r){return e.isCollectionHavingLength(r)||e.isCollectionHavingSize(r)}},{key:"getExplicitCardinality",value:function(r){return e.isCollectionHavingLength(r)?r.length:e.isCollectionHavingSize(r)?r.size:null}},{key:"isEmptyIterable",value:function(r){return e.isCollectionHavingExplicitCardinality(r)?0===e.getExplicitCardinality(r):e.getIterator(r).next().done}},{key:"validateRequiredFunction",value:function(e,r){if(null==e||!c.isFunction(e))throw new Error(r)}},{key:"validateOptionalFunction",value:function(e,r){if(null!=e&&!c.isFunction(e))throw new Error(r)}},{key:"getIterator",value:function(e){return c.isIterable(e)?e[Symbol.iterator]():new Error("Value is not an iterable.")}},{key:"firstBasedOperator",value:function(e,r,t,n){var a=!0,i=!1,o=void 0;try{for(var u,l=e[Symbol.iterator]();!(a=(u=l.next()).done);a=!0){var c=u.value;if(null==r||r(c))return c}}catch(e){i=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(i)throw o}}if(n)throw new Error("No first element was found in the collection.");return t}},{key:"singleBasedOperator",value:function(e,r,t,n){var a=!1,i=void 0,o=!0,u=!1,l=void 0;try{for(var c,s=e[Symbol.iterator]();!(o=(c=s.next()).done);o=!0){var v=c.value;if(null==r||r(v)){if(a)throw null==r?new Error("There was more than one element in the collection."):new Error("More than one element in the collection satisfied the predicate");i=v,a=!0}}}catch(e){u=!0,l=e}finally{try{!o&&s.return&&s.return()}finally{if(u)throw l}}if(a)return i;if(n)throw null==r?new Error("There were no elements in the collection."):new Error("No single element in the collection satisfied the predicate.");return t()}},{key:"lastBasedOperator",value:function(r,t,n,a){if(e.isIndexedCollection(r)&&e.isCollectionHavingExplicitCardinality(r))for(var i=e.getExplicitCardinality(r)-1;i>=0;i--){var o=r[i];if(null==t||t(o))return o}else{var u=void 0,l=!1,c=!0,s=!1,v=void 0;try{for(var f,d=r[Symbol.iterator]();!(c=(f=d.next()).done);c=!0){var p=f.value;(null==t||t(p))&&(u=p,l=!0)}}catch(e){s=!0,v=e}finally{try{!c&&d.return&&d.return()}finally{if(s)throw v}}if(l)return u}if(a)throw new Error("No last element was found in the collection.");return n}},{key:"elementAtBasedOperator",value:function(r,t,n){if(!e.isValidNumber(r,function(e){return e>=0}))return n();var a=t();if(e.isCollectionHavingExplicitCardinality(a)&&r>=e.getExplicitCardinality(a))return n();if(e.isIndexedCollection(a))return a[r];var i=0,o=!0,u=!1,l=void 0;try{for(var c,s=a[Symbol.iterator]();!(o=(c=s.next()).done);o=!0){var v=c.value;if(i===r)return v;i+=1}}catch(e){u=!0,l=e}finally{try{!o&&s.return&&s.return()}finally{if(u)throw l}}return n()}},{key:"normalizeComparerOrDefault",value:function(e){return null==e?c.strictComparer:c.normalizeComparer(e)}},{key:"ensureLinq",value:function(e){return c.isLinq(e)?e:new c(e)}},{key:"createDeferredSort",value:function(e,r,t){return{keySelector:e,comparer:r,isReverse:t,parent:arguments.length>3&&void 0!==arguments[3]?arguments[3]:null}}},{key:"performDeferredSort",value:function(r,t){var n=e.buildSortChain(t);r.sort(function(e,r){return function e(r,t,n){var a=void 0;return 0===(a=n.isReverse?n.comparer(n.keySelector(t),n.keySelector(r)):n.comparer(n.keySelector(r),n.keySelector(t)))?null==n.next?0:e(r,t,n.next):a}(e,r,n)})}},{key:"buildSortChain",value:function(e){return function e(r,t){var n={keySelector:r.keySelector,comparer:r.comparer,isReverse:r.isReverse,next:t};return null==r.parent?n:e(r.parent,n)}(e,null)}},{key:"orderByBasedOperator",value:function(r,t,n,a){e.validateRequiredFunction(t),e.validateOptionalFunction(n),null==n&&(n=c.generalComparer);var i=new c(r);return i[u]=e.createDeferredSort(t,n,a),i}},{key:"thenByBasedOperator",value:function(r,t,n,a){e.validateRequiredFunction(t),e.validateOptionalFunction(n);var i=r[u];if(null==i)throw new Error((a?"ThenByDescending":"ThenBy")+" can only be called following OrderBy, OrderByDescending, ThenBy, or ThenByDescending.");null==n&&(n=c.generalComparer);var o=new c(r);return o[u]=e.createDeferredSort(t,n,a,i),o}},{key:"getExtremeValue",value:function(e,r,t,n){return e.aggregate(null,function(e,n){var a=r(e),i=r(n);return t(i,a)?n:e},n)}},{key:"isValidNumber",value:function(e,r){return null!=e&&!isNaN(e)&&(null==r||r(e))}},{key:"minComparer",value:function(e,r){return e<r}},{key:"maxComparer",value:function(e,r){return e>r}}]),e}(),i=e.SimpleSet=function(){function e(r){t(this,e),this.set=new Set,this.comparer=r,this.usesComparer=null!=r,this.containsOnlyPrimitives=!0}return n(e,[{key:"add",value:function(e){this.containsOnlyPrimitives&&!c.isPrimitive(e)&&(this.containsOnlyPrimitives=!1),this.usesComparer?this.has(e)||this.set.add(e):!this.containsOnlyPrimitives&&this.has(e)||this.set.add(e)}},{key:"remove",value:function(e){if(!this.usesComparer&&this.containsOnlyPrimitives)return this.set.delete(e);var r=this.usesComparer?this.comparer:c.strictComparer,t=!0,n=!1,a=void 0;try{for(var i,o=this.set.values()[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var u=i.value;if(r(e,u))return this.set.delete(u),!0}}catch(e){n=!0,a=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw a}}return!1}},{key:"has",value:function(e){if(!this.usesComparer&&this.containsOnlyPrimitives)return this.set.has(e);var r=this.usesComparer?this.comparer:c.strictComparer,t=!0,n=!1,a=void 0;try{for(var i,o=this.set.values()[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){if(r(e,i.value))return!0}}catch(e){n=!0,a=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw a}}return!1}}],[{key:"initialize",value:function(r,t){var n=new e(t),a=!0,i=!1,o=void 0;try{for(var u,l=r[Symbol.iterator]();!(a=(u=l.next()).done);a=!0){var c=u.value;n.add(c)}}catch(e){i=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(i)throw o}}return n}}]),e}(),o=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}).constructor,u=Symbol("Provides private-like access for a deferredSort property."),l=e.Grouping=function e(r,n){t(this,e),this.key=r,this.values=null==n?[]:Array.from(n)},c=e.Linq=function(){function e(r){if(t(this,e),null==r&&(r=[]),!a.isConstructorCompatibleSource(r))throw new Error("The 'source' is neither an iterable, a generator, nor a function that returns such.");this.source=r}return n(e,[{key:"aggregate",value:function(e,r,t){a.validateRequiredFunction(r,"Invalid operation."),a.validateOptionalFunction(t,"Invalid result selector.");var n=a.getIterator(this.toIterable()),i=null,o=null,u=function(){var e=n.next();return i=e.value,!e.done};if(!u()){if(null==e)throw new Error("Cannot evaluate aggregation of an empty collection with no seed.");return null==t?e:t(e)}for(o=null==e?i:r(e,i);u();)o=r(o,i);return null==t?o:t(o)}},{key:"all",value:function(e){a.validateRequiredFunction(e,"Invalid predicate.");var r=this.toIterable(),t=!0,n=!1,i=void 0;try{for(var o,u=r[Symbol.iterator]();!(t=(o=u.next()).done);t=!0){if(!e(o.value))return!1}}catch(e){n=!0,i=e}finally{try{!t&&u.return&&u.return()}finally{if(n)throw i}}return!0}},{key:"any",value:function(e){a.validateOptionalFunction(e,"Invalid predicate.");var r=this.toIterable();if(null==e)return!a.isEmptyIterable(r);var t=!0,n=!1,i=void 0;try{for(var o,u=r[Symbol.iterator]();!(t=(o=u.next()).done);t=!0){if(e(o.value))return!0}}catch(e){n=!0,i=e}finally{try{!t&&u.return&&u.return()}finally{if(n)throw i}}return!1}},{key:"append",value:function(r){var t=regeneratorRuntime.mark(a),n=this.toIterable();function a(){var e,a,i,o,u,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=!0,a=!1,i=void 0,t.prev=3,o=n[Symbol.iterator]();case 5:if(e=(u=o.next()).done){t.next=12;break}return l=u.value,t.next=9,l;case 9:e=!0,t.next=5;break;case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(3),a=!0,i=t.t0;case 18:t.prev=18,t.prev=19,!e&&o.return&&o.return();case 21:if(t.prev=21,!a){t.next=24;break}throw i;case 24:return t.finish(21);case 25:return t.finish(18);case 26:return t.next=28,r;case 28:case"end":return t.stop()}},t,this,[[3,14,18,26],[19,,21,25]])}return new e(a)}},{key:"average",value:function(e){a.validateOptionalFunction(e,"Invalid selector.");var r=this.toIterable(),t=0,n=1,i=!0,o=!1,u=void 0;try{for(var l,c=r[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var s=l.value,v=null==e?s:e(s);if(null!=v){if(isNaN(v))throw new Error("Encountered an element that is not a number.");t+=(v-t)/n,n+=1}}}catch(e){o=!0,u=e}finally{try{!i&&c.return&&c.return()}finally{if(o)throw u}}return t}},{key:"batch",value:function(r,t){var n=regeneratorRuntime.mark(o);if(a.validateOptionalFunction(t,"Invalid result selector."),!a.isValidNumber(r,function(e){return e>0}))throw new Error("Invalid size.");var i=this.toIterable();function o(){var e,a,o,u,l,c,s,v;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:e=null,a=0,o=!0,u=!1,l=void 0,n.prev=5,c=i[Symbol.iterator]();case 7:if(o=(s=c.next()).done){n.next=20;break}if(v=s.value,null==e&&(e=[]),e[a]=null==t?v:t(v),(a+=1)!=r){n.next=17;break}return n.next=15,e;case 15:e=null,a=0;case 17:o=!0,n.next=7;break;case 20:n.next=26;break;case 22:n.prev=22,n.t0=n.catch(5),u=!0,l=n.t0;case 26:n.prev=26,n.prev=27,!o&&c.return&&c.return();case 29:if(n.prev=29,!u){n.next=32;break}throw l;case 32:return n.finish(29);case 33:return n.finish(26);case 34:if(!(null!=e&&a>0)){n.next=37;break}return n.next=37,e;case 37:case"end":return n.stop()}},n,this,[[5,22,26,34],[27,,29,33]])}return new e(o)}},{key:"concat",value:function(r){var t=regeneratorRuntime.mark(u);if(null==r)return new e(this);var n=a.ensureLinq(r),i=this.toIterable(),o=n.toIterable();function u(){var e,r,n,a,u,l,c,s,v,f,d,p;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=!0,r=!1,n=void 0,t.prev=3,a=i[Symbol.iterator]();case 5:if(e=(u=a.next()).done){t.next=12;break}return l=u.value,t.next=9,l;case 9:e=!0,t.next=5;break;case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(3),r=!0,n=t.t0;case 18:t.prev=18,t.prev=19,!e&&a.return&&a.return();case 21:if(t.prev=21,!r){t.next=24;break}throw n;case 24:return t.finish(21);case 25:return t.finish(18);case 26:c=!0,s=!1,v=void 0,t.prev=29,f=o[Symbol.iterator]();case 31:if(c=(d=f.next()).done){t.next=38;break}return p=d.value,t.next=35,p;case 35:c=!0,t.next=31;break;case 38:t.next=44;break;case 40:t.prev=40,t.t1=t.catch(29),s=!0,v=t.t1;case 44:t.prev=44,t.prev=45,!c&&f.return&&f.return();case 47:if(t.prev=47,!s){t.next=50;break}throw v;case 50:return t.finish(47);case 51:return t.finish(44);case 52:case"end":return t.stop()}},t,this,[[3,14,18,26],[19,,21,25],[29,40,44,52],[45,,47,51]])}return new e(u)}},{key:"contains",value:function(e,r){a.validateOptionalFunction(r,"Invalid comparer.");var t=a.normalizeComparerOrDefault(r),n=this.toIterable(),i=!0,o=!1,u=void 0;try{for(var l,c=n[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){if(t(e,l.value))return!0}}catch(e){o=!0,u=e}finally{try{!i&&c.return&&c.return()}finally{if(o)throw u}}return!1}},{key:"count",value:function(e){a.validateOptionalFunction(e,"Invalid predicate.");var r=this.toIterable();if(null==e&&a.isCollectionHavingExplicitCardinality(r))return a.getExplicitCardinality(r);var t=0,n=!0,i=!1,o=void 0;try{for(var u,l=r[Symbol.iterator]();!(n=(u=l.next()).done);n=!0){var c=u.value;(null==e||e(c))&&(t+=1)}}catch(e){i=!0,o=e}finally{try{!n&&l.return&&l.return()}finally{if(i)throw o}}return t}},{key:"defaultIfEmpty",value:function(r){var t=this.toIterable();return a.isEmptyIterable(t)?new e([r]):new e(this)}},{key:"distinct",value:function(r){return this.distinctBy(e.identity,r)}},{key:"distinctBy",value:function(e,r){return a.validateRequiredFunction(e,"Invalid key selector."),a.validateOptionalFunction(r,"Invalid comparer."),this.groupBy(e,null,r).select(function(e){return e.values[0]})}},{key:"elementAt",value:function(e){var r=this;return a.elementAtBasedOperator(e,function(){return r.toIterable()},function(){throw new Error("Invalid index.")})}},{key:"elementAtOrDefault",value:function(e,r){var t=this;return a.elementAtBasedOperator(e,function(){return t.toIterable()},function(){return r})}},{key:"equiZip",value:function(r,t){var n=regeneratorRuntime.mark(l);a.validateOptionalFunction(t,"Invalid result selector."),null==t&&(t=e.tuple);var i=a.ensureLinq(r),o=this.toIterable(),u=i.toIterable();if(a.isCollectionHavingExplicitCardinality(o)&&a.isCollectionHavingExplicitCardinality(u)&&a.getExplicitCardinality(o)!==a.getExplicitCardinality(u))throw new Error("The two collections being equi-zipped are not of equal lengths.");function l(){var e,r,i,l;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:e=a.getIterator(o),r=a.getIterator(u),i=e.next(),l=r.next();case 4:if(i.done){n.next=13;break}if(!l.done){n.next=7;break}throw new Error("Second collection is too short.");case 7:return n.next=9,t(i.value,l.value);case 9:i=e.next(),l=r.next(),n.next=4;break;case 13:if(l.done){n.next=15;break}throw new Error("First collection is too short.");case 15:case"end":return n.stop()}},n,this)}return new e(l)}},{key:"except",value:function(r,t){var n=regeneratorRuntime.mark(v);a.validateOptionalFunction(t,"Invalid comparer.");var o=null==t?null:e.normalizeComparer(t),u=a.ensureLinq(r),l=this.toIterable(),c=u.toIterable(),s=i.initialize(c,o);function v(){var e,r,t,a,i,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:e=!0,r=!1,t=void 0,n.prev=3,a=l[Symbol.iterator]();case 5:if(e=(i=a.next()).done){n.next=15;break}if(o=i.value,s.has(o)){n.next=12;break}return s.add(o),n.next=12,o;case 12:e=!0,n.next=5;break;case 15:n.next=21;break;case 17:n.prev=17,n.t0=n.catch(3),r=!0,t=n.t0;case 21:n.prev=21,n.prev=22,!e&&a.return&&a.return();case 24:if(n.prev=24,!r){n.next=27;break}throw t;case 27:return n.finish(24);case 28:return n.finish(21);case 29:case"end":return n.stop()}},n,this,[[3,17,21,29],[22,,24,28]])}return new e(v)}},{key:"first",value:function(e){a.validateOptionalFunction(e,"Invalid predicate.");var r=this.toIterable();return a.firstBasedOperator(r,e,null,!0)}},{key:"firstOrDefault",value:function(e,r){a.validateOptionalFunction(e,"Invalid predicate.");var t=this.toIterable();return a.firstBasedOperator(t,e,r,!1)}},{key:"foreach",value:function(e){a.validateRequiredFunction(e,"Invalid action.");var r=this.toIterable(),t=0,n=!0,i=!1,o=void 0;try{for(var u,l=r[Symbol.iterator]();!(n=(u=l.next()).done);n=!0){e(u.value,t),t+=1}}catch(e){i=!0,o=e}finally{try{!n&&l.return&&l.return()}finally{if(i)throw o}}}},{key:"groupBy",value:function(r,t,n){a.validateRequiredFunction(r,"Invalid key selector."),a.validateOptionalFunction(t,"Invalid element selector."),a.validateOptionalFunction(n,"Invalid key comparer.");var i=a.normalizeComparerOrDefault(n),o=this.toIterable(),u=[],c=new e(u),s=!0,v=!1,f=void 0;try{for(var d,p=function(){var e=d.value,n=r(e),a=null==t?e:t(e),o=c.firstOrDefault(function(e){return i(e.key,n)},null);null==o?u.push(new l(n,[a])):o.values.push(a)},y=o[Symbol.iterator]();!(s=(d=y.next()).done);s=!0)p()}catch(e){v=!0,f=e}finally{try{!s&&y.return&&y.return()}finally{if(v)throw f}}return c}},{key:"groupJoin",value:function(r,t,n,i,o){if(null==r)throw new Error("Invalid inner collection.");a.validateRequiredFunction(t,"Invalid outer key selector."),a.validateRequiredFunction(n,"Invalid inner key selector."),a.validateRequiredFunction(i,"Invalid result selector."),a.validateOptionalFunction(o,"Invalid key comparer.");var u=a.normalizeComparerOrDefault(o),l=a.ensureLinq(r),c=this.toIterable(),s=l.groupBy(n,null,o),v=[],f=!0,d=!1,p=void 0;try{for(var y,h=function(){var e=y.value,r=t(e),n=s.firstOrDefault(function(e){return u(e.key,r)});v.push(i(e,null==n?[]:n.values))},m=c[Symbol.iterator]();!(f=(y=m.next()).done);f=!0)h()}catch(e){d=!0,p=e}finally{try{!f&&m.return&&m.return()}finally{if(d)throw p}}return new e(v)}},{key:"index",value:function(e){if(null==e&&(e=0),isNaN(e))throw new Error("Invalid startIndex.");return this.select(function(r,t){return{key:e+t,value:r}})}},{key:"indexOf",value:function(e){a.validateRequiredFunction(e,"Invalid predicate.");var r=this.toIterable(),t=0,n=!0,i=!1,o=void 0;try{for(var u,l=r[Symbol.iterator]();!(n=(u=l.next()).done);n=!0){if(e(u.value))return t;t+=1}}catch(e){i=!0,o=e}finally{try{!n&&l.return&&l.return()}finally{if(i)throw o}}return-1}},{key:"indexOfElement",value:function(e,r){a.validateOptionalFunction(r,"Invalid comparer.");var t=a.normalizeComparerOrDefault(r),n=this.toIterable(),i=0,o=!0,u=!1,l=void 0;try{for(var c,s=n[Symbol.iterator]();!(o=(c=s.next()).done);o=!0){if(t(e,c.value))return i;i+=1}}catch(e){u=!0,l=e}finally{try{!o&&s.return&&s.return()}finally{if(u)throw l}}return-1}},{key:"intersect",value:function(r,t){var n=regeneratorRuntime.mark(v);a.validateOptionalFunction(t,"Invalid comparer.");var o=a.ensureLinq(r),u=null==t?null:e.normalizeComparer(t),l=this.toIterable(),c=o.toIterable(),s=i.initialize(c,u);function v(){var e,r,t,a,i,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:e=!0,r=!1,t=void 0,n.prev=3,a=l[Symbol.iterator]();case 5:if(e=(i=a.next()).done){n.next=14;break}if(o=i.value,!s.remove(o)){n.next=11;break}return n.next=11,o;case 11:e=!0,n.next=5;break;case 14:n.next=20;break;case 16:n.prev=16,n.t0=n.catch(3),r=!0,t=n.t0;case 20:n.prev=20,n.prev=21,!e&&a.return&&a.return();case 23:if(n.prev=23,!r){n.next=26;break}throw t;case 26:return n.finish(23);case 27:return n.finish(20);case 28:case"end":return n.stop()}},n,this,[[3,16,20,28],[21,,23,27]])}return new e(v)}},{key:"join",value:function(r,t,n,i,o){var u=regeneratorRuntime.mark(f);if(null==r)throw new Error("Invalid inner collection.");a.validateRequiredFunction(t,"Invalid outer key selector."),a.validateRequiredFunction(n,"Invalid inner key selector."),a.validateRequiredFunction(i,"Invalid result selector."),a.validateOptionalFunction(o,"Invalid key comparer.");var l=a.ensureLinq(r),c=a.normalizeComparerOrDefault(o),s=l.groupBy(n,null,c),v=this.toIterable();function f(){var e,r,n,a,o,l,f=this;return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:e=!0,r=!1,n=void 0,u.prev=3,a=regeneratorRuntime.mark(function e(){var r,n,a,o,u,v,d,p,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=l.value,n=t(r),!(null!=(a=s.firstOrDefault(function(e){return c(e.key,n)}))&&a.values.length>0)){e.next=30;break}o=!0,u=!1,v=void 0,e.prev=7,d=a.values[Symbol.iterator]();case 9:if(o=(p=d.next()).done){e.next=16;break}return y=p.value,e.next=13,i(r,y);case 13:o=!0,e.next=9;break;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(7),u=!0,v=e.t0;case 22:e.prev=22,e.prev=23,!o&&d.return&&d.return();case 25:if(e.prev=25,!u){e.next=28;break}throw v;case 28:return e.finish(25);case 29:return e.finish(22);case 30:case"end":return e.stop()}},e,f,[[7,18,22,30],[23,,25,29]])}),o=v[Symbol.iterator]();case 6:if(e=(l=o.next()).done){u.next=11;break}return u.delegateYield(a(),"t0",8);case 8:e=!0,u.next=6;break;case 11:u.next=17;break;case 13:u.prev=13,u.t1=u.catch(3),r=!0,n=u.t1;case 17:u.prev=17,u.prev=18,!e&&o.return&&o.return();case 20:if(u.prev=20,!r){u.next=23;break}throw n;case 23:return u.finish(20);case 24:return u.finish(17);case 25:case"end":return u.stop()}},u,this,[[3,13,17,25],[18,,20,24]])}return new e(f)}},{key:"last",value:function(e){a.validateOptionalFunction(e,"Invalid predicate.");var r=this.toIterable();return a.lastBasedOperator(r,e,null,!0)}},{key:"lastIndexOf",value:function(e){a.validateRequiredFunction(e,"Invalid predicate.");var r=this.index().where(function(r){return e(r.value)}).reverse().firstOrDefault();return null==r?-1:r.key}},{key:"lastIndexOfElement",value:function(e,r){a.validateOptionalFunction(r,"Invalid comparer.");var t=a.normalizeComparerOrDefault(r);return this.lastIndexOf(function(r){return t(r,e)})}},{key:"lastOrDefault",value:function(e,r){a.validateOptionalFunction(e,"Invalid predicate.");var t=this.toIterable();return a.lastBasedOperator(t,e,r,!1)}},{key:"min",value:function(r){a.validateOptionalFunction(r,"Invalid selector.");var t=this.toIterable();if(a.isEmptyIterable(t))throw new Error("No minimum element.");return null==r&&(r=e.identity),a.getExtremeValue(this,r,a.minComparer,r)}},{key:"minBy",value:function(r){a.validateRequiredFunction(r,"Invalid selector.");var t=this.toIterable();if(a.isEmptyIterable(t))throw new Error("No minimum element.");return a.getExtremeValue(this,r,a.minComparer,e.identity)}},{key:"max",value:function(r){a.validateOptionalFunction(r,"Invalid selector.");var t=this.toIterable();if(a.isEmptyIterable(t))throw new Error("No maximum element.");return null==r&&(r=e.identity),a.getExtremeValue(this,r,a.maxComparer,r)}},{key:"maxBy",value:function(r){a.validateRequiredFunction(r,"Invalid selector.");var t=this.toIterable();if(a.isEmptyIterable(t))throw new Error("No maximum element.");return a.getExtremeValue(this,r,a.maxComparer,e.identity)}},{key:"orderBy",value:function(e,r){return a.orderByBasedOperator(this,e,r,!1)}},{key:"orderByDescending",value:function(e,r){return a.orderByBasedOperator(this,e,r,!0)}},{key:"pad",value:function(e,r){return this.padWith(e,function(){return r})}},{key:"padWith",value:function(r,t){var n=regeneratorRuntime.mark(o);if(!a.isValidNumber(r))throw new Error("Invalid width.");a.validateRequiredFunction(t,"Invalid padding selector.");var i=this.toIterable();function o(){var e,a,o,u,l,c,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:e=0,a=!0,o=!1,u=void 0,n.prev=4,l=i[Symbol.iterator]();case 6:if(a=(c=l.next()).done){n.next=14;break}return s=c.value,n.next=10,s;case 10:e+=1;case 11:a=!0,n.next=6;break;case 14:n.next=20;break;case 16:n.prev=16,n.t0=n.catch(4),o=!0,u=n.t0;case 20:n.prev=20,n.prev=21,!a&&l.return&&l.return();case 23:if(n.prev=23,!o){n.next=26;break}throw u;case 26:return n.finish(23);case 27:return n.finish(20);case 28:if(!(e<r)){n.next=34;break}return n.next=31,t(e);case 31:e+=1,n.next=28;break;case 34:case"end":return n.stop()}},n,this,[[4,16,20,28],[21,,23,27]])}return new e(o)}},{key:"pipe",value:function(r){a.validateRequiredFunction(r,"Invalid action.");var t=this.toIterable(),n=0,i=!0,o=!1,u=void 0;try{for(var l,c=t[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){r(l.value,n),n+=1}}catch(e){o=!0,u=e}finally{try{!i&&c.return&&c.return()}finally{if(o)throw u}}return new e(this.source)}},{key:"prepend",value:function(r){var t=regeneratorRuntime.mark(a),n=this.toIterable();function a(){var e,a,i,o,u,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r;case 2:e=!0,a=!1,i=void 0,t.prev=5,o=n[Symbol.iterator]();case 7:if(e=(u=o.next()).done){t.next=14;break}return l=u.value,t.next=11,l;case 11:e=!0,t.next=7;break;case 14:t.next=20;break;case 16:t.prev=16,t.t0=t.catch(5),a=!0,i=t.t0;case 20:t.prev=20,t.prev=21,!e&&o.return&&o.return();case 23:if(t.prev=23,!a){t.next=26;break}throw i;case 26:return t.finish(23);case 27:return t.finish(20);case 28:case"end":return t.stop()}},t,this,[[5,16,20,28],[21,,23,27]])}return new e(a)}},{key:"prescan",value:function(r,t){var n=regeneratorRuntime.mark(u);a.validateRequiredFunction(r,"Invalid operation.");var i=this.toIterable(),o=a.getIterator(i);function u(){var e,a,i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:e=t,a=o.next();case 2:if(a.done){n.next=10;break}return n.next=5,e;case 5:i=a.value,(a=o.next()).done||(e=r(e,i)),n.next=2;break;case 10:case"end":return n.stop()}},n,this)}return new e(u)}},{key:"reverse",value:function(){var r=regeneratorRuntime.mark(n),t=this.toIterable();function n(){var e;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:e=t.length-1;case 1:if(!(e>=0)){r.next=7;break}return r.next=4,t[e];case 4:e--,r.next=1;break;case 7:case"end":return r.stop()}},r,this)}return a.isIndexedCollection(t)&&a.isCollectionHavingLength(t)||(t=Array.from(t)),new e(n)}},{key:"scan",value:function(r,t){var n=regeneratorRuntime.mark(o);a.validateRequiredFunction(r,"Invalid operation.");var i=void 0===t?this:this.prepend(t);function o(){var e,t,o,u;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(e=i.toIterable(),t=a.getIterator(e),!(o=t.next()).done){n.next=5;break}return n.abrupt("return");case 5:return u=o.value,n.next=8,u;case 8:o=t.next();case 9:if(o.done){n.next=16;break}return u=r(u,o.value),n.next=13,u;case 13:o=t.next(),n.next=9;break;case 16:case"end":return n.stop()}},n,this)}return new e(o)}},{key:"select",value:function(r){var t=regeneratorRuntime.mark(o);a.validateRequiredFunction(r,"Invalid selector.");var n=this.toIterable(),i=0;function o(){var e,a,o,u,l,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=!0,a=!1,o=void 0,t.prev=3,u=n[Symbol.iterator]();case 5:if(e=(l=u.next()).done){t.next=13;break}return c=l.value,t.next=9,r(c,i);case 9:i+=1;case 10:e=!0,t.next=5;break;case 13:t.next=19;break;case 15:t.prev=15,t.t0=t.catch(3),a=!0,o=t.t0;case 19:t.prev=19,t.prev=20,!e&&u.return&&u.return();case 22:if(t.prev=22,!a){t.next=25;break}throw o;case 25:return t.finish(22);case 26:return t.finish(19);case 27:case"end":return t.stop()}},t,this,[[3,15,19,27],[20,,22,26]])}return new e(o)}},{key:"selectMany",value:function(r,t){var n=regeneratorRuntime.mark(o);a.validateRequiredFunction(r,"Invalid collection selector."),a.validateOptionalFunction(t,"Invalid result selector.");var i=this.toIterable();function o(){var e,o,u,l,c,s,v,f,d,p,y,h,m,k,b;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:e=0,o=!0,u=!1,l=void 0,n.prev=4,c=i[Symbol.iterator]();case 6:if(o=(s=c.next()).done){n.next=42;break}if(v=s.value,f=r(v,e),e+=1,null!=f){n.next=12;break}return n.abrupt("continue",39);case 12:d=a.ensureLinq(f).toIterable(),p=!0,y=!1,h=void 0,n.prev=16,m=d[Symbol.iterator]();case 18:if(p=(k=m.next()).done){n.next=25;break}return b=k.value,n.next=22,null==t?b:t(b,v);case 22:p=!0,n.next=18;break;case 25:n.next=31;break;case 27:n.prev=27,n.t0=n.catch(16),y=!0,h=n.t0;case 31:n.prev=31,n.prev=32,!p&&m.return&&m.return();case 34:if(n.prev=34,!y){n.next=37;break}throw h;case 37:return n.finish(34);case 38:return n.finish(31);case 39:o=!0,n.next=6;break;case 42:n.next=48;break;case 44:n.prev=44,n.t1=n.catch(4),u=!0,l=n.t1;case 48:n.prev=48,n.prev=49,!o&&c.return&&c.return();case 51:if(n.prev=51,!u){n.next=54;break}throw l;case 54:return n.finish(51);case 55:return n.finish(48);case 56:case"end":return n.stop()}},n,this,[[4,44,48,56],[16,27,31,39],[32,,34,38],[49,,51,55]])}return new e(o)}},{key:"sequenceEqual",value:function(e,r){if(a.validateOptionalFunction(r,"Invalid comparer."),null==e)return!1;var t=a.normalizeComparerOrDefault(r),n=this.toIterable(),i=a.ensureLinq(e).toIterable(),o=a.getExplicitCardinality(n),u=a.getExplicitCardinality(i);if(null!=o&&null!=u&&o!==u)return!1;for(var l=a.getIterator(n),c=a.getIterator(i),s=l.next(),v=c.next();!s.done&&!v.done;){if(!t(s.value,v.value))return!1;s=l.next(),v=c.next()}return!(!s.done||!v.done)}},{key:"sequenceEquivalent",value:function(r,t){if(a.validateOptionalFunction(t,"Invalid comparer."),null==r)return!1;var n=a.normalizeComparerOrDefault(t),i=a.ensureLinq(r),o=this.toIterable(),u=i.toIterable(),l=a.getExplicitCardinality(o),c=a.getExplicitCardinality(u);if(null!=l&&null!=c&&l!==c)return!1;var s=this.toLookup(e.identity,t),v=i.toLookup(e.identity,t);return s.count()===v.count()&&s.all(function(e){var r=v.firstOrDefault(function(r){return n(r.key,e.key)});return null!=r&&e.values.length===r.values.length})}},{key:"single",value:function(e){a.validateOptionalFunction(e,"Invalid predicate.");var r=this.toIterable();return a.singleBasedOperator(r,e,null,!0)}},{key:"singleOrDefault",value:function(e,r){a.validateOptionalFunction(e,"Invalid predicate.");var t=this.toIterable();return a.singleBasedOperator(t,e,function(){return r},!1)}},{key:"singleOrFallback",value:function(e){a.validateRequiredFunction(e,"Invalid fallback function.");var r=this.toIterable();return a.singleBasedOperator(r,null,e,!1)}},{key:"skip",value:function(r){var t=regeneratorRuntime.mark(i);if(!a.isValidNumber(r))throw new Error("Invalid count.");var n=this.toIterable();function i(){var e,a,i,o,u,l,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=1,a=!0,i=!1,o=void 0,t.prev=4,u=n[Symbol.iterator]();case 6:if(a=(l=u.next()).done){t.next=15;break}if(c=l.value,!(e>r)){t.next=11;break}return t.next=11,c;case 11:e+=1;case 12:a=!0,t.next=6;break;case 15:t.next=21;break;case 17:t.prev=17,t.t0=t.catch(4),i=!0,o=t.t0;case 21:t.prev=21,t.prev=22,!a&&u.return&&u.return();case 24:if(t.prev=24,!i){t.next=27;break}throw o;case 27:return t.finish(24);case 28:return t.finish(21);case 29:case"end":return t.stop()}},t,this,[[4,17,21,29],[22,,24,28]])}return new e(i)}},{key:"skipUntil",value:function(e){return a.validateRequiredFunction(e,"Invalid predicate."),this.skipWhile(function(r){return!e(r)})}},{key:"skipWhile",value:function(r){var t=regeneratorRuntime.mark(i);a.validateRequiredFunction(r,"Invalid predicate.");var n=this.toIterable();function i(){var e,a,i,o,u,l,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=!0,a=!0,i=!1,o=void 0,t.prev=4,u=n[Symbol.iterator]();case 6:if(a=(l=u.next()).done){t.next=20;break}if(c=l.value,e){t.next=13;break}return t.next=11,c;case 11:t.next=17;break;case 13:if(r(c)){t.next=17;break}return e=!1,t.next=17,c;case 17:a=!0,t.next=6;break;case 20:t.next=26;break;case 22:t.prev=22,t.t0=t.catch(4),i=!0,o=t.t0;case 26:t.prev=26,t.prev=27,!a&&u.return&&u.return();case 29:if(t.prev=29,!i){t.next=32;break}throw o;case 32:return t.finish(29);case 33:return t.finish(26);case 34:case"end":return t.stop()}},t,this,[[4,22,26,34],[27,,29,33]])}return new e(i)}},{key:"sum",value:function(e){a.validateOptionalFunction(e,"Invalid selector.");return this.aggregate(0,function(r,t){return r+function(r){var t=null==e?r:e(r);if(null==t)t=0;else if(isNaN(t))throw new Error("Encountered an element that is not a number.");return t}(t)})}},{key:"take",value:function(r){var t=regeneratorRuntime.mark(i);if(!a.isValidNumber(r))throw new Error("Invalid count.");var n=this.toIterable();function i(){var e,a,i,o,u,l,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0,a=!0,i=!1,o=void 0,t.prev=4,u=n[Symbol.iterator]();case 6:if(a=(l=u.next()).done){t.next=16;break}if(c=l.value,!(e>=r)){t.next=10;break}return t.abrupt("return");case 10:return t.next=12,c;case 12:e+=1;case 13:a=!0,t.next=6;break;case 16:t.next=22;break;case 18:t.prev=18,t.t0=t.catch(4),i=!0,o=t.t0;case 22:t.prev=22,t.prev=23,!a&&u.return&&u.return();case 25:if(t.prev=25,!i){t.next=28;break}throw o;case 28:return t.finish(25);case 29:return t.finish(22);case 30:case"end":return t.stop()}},t,this,[[4,18,22,30],[23,,25,29]])}return new e(i)}},{key:"takeEvery",value:function(e){if(!a.isValidNumber(e,function(e){return e>0}))throw new Error("Invalid step.");return this.where(function(r,t){return t%e==0})}},{key:"takeLast",value:function(r){if(!a.isValidNumber(r,function(e){return e>=0}))throw new Error("Invalid count");if(0===r)return e.empty();var t=this.toIterable();if(a.isCollectionHavingExplicitCardinality(t)){var n=a.getExplicitCardinality(t);if(null!=n)return this.skip(n-r)}return new e(this.aggregate([],function(e,t){return e.length===r&&e.shift(),e.push(t),e}))}},{key:"takeUntil",value:function(e){return a.validateRequiredFunction(e,"Invalid predicate."),this.takeWhile(function(r){return!e(r)})}},{key:"takeWhile",value:function(r){var t=regeneratorRuntime.mark(i);a.validateRequiredFunction(r,"Invalid predicate.");var n=this.toIterable();function i(){var e,a,i,o,u,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=!0,a=!1,i=void 0,t.prev=3,o=n[Symbol.iterator]();case 5:if(e=(u=o.next()).done){t.next=14;break}if(l=u.value,r(l)){t.next=9;break}return t.abrupt("return");case 9:return t.next=11,l;case 11:e=!0,t.next=5;break;case 14:t.next=20;break;case 16:t.prev=16,t.t0=t.catch(3),a=!0,i=t.t0;case 20:t.prev=20,t.prev=21,!e&&o.return&&o.return();case 23:if(t.prev=23,!a){t.next=26;break}throw i;case 26:return t.finish(23);case 27:return t.finish(20);case 28:case"end":return t.stop()}},t,this,[[3,16,20,28],[21,,23,27]])}return new e(i)}},{key:"thenBy",value:function(e,r){return a.thenByBasedOperator(this,e,r,!1)}},{key:"thenByDescending",value:function(e,r){return a.thenByBasedOperator(this,e,r,!0)}},{key:"toArray",value:function(){return Array.from(this.toIterable())}},{key:"toDelimitedString",value:function(e){return a.isEmptyIterable(this.toIterable())?"":(null==e&&(e=","),this.aggregate(null,function(r,t){return""+r+e+t}))}},{key:"toDictionary",value:function(r,t){a.validateRequiredFunction(r,"Invalid key selector."),a.validateOptionalFunction(t,"Invalid element selector.");var n=null==t?e.identity:t,i=this.toIterable(),o={},u=!0,l=!1,c=void 0;try{for(var s,v=i[Symbol.iterator]();!(u=(s=v.next()).done);u=!0){var f=s.value,d=r(f);if(d in o)throw new Error("Duplicate key in collection.");o[d]=n(f)}}catch(e){l=!0,c=e}finally{try{!u&&v.return&&v.return()}finally{if(l)throw c}}return o}},{key:"toIterable",value:function(){var r=regeneratorRuntime.mark(i),t=function r(t){if(e.isLinq(t))return r(t.source);if(e.isIterable(t))return t;if(e.isGenerator(t))return t();if(e.isFunction(t))return r(t());throw new Error("Could not return an iterable because the 'source' was not valid.")}(this.source),n=this[u];if(null==n)return t;function i(){var e,i,o,u,l,c,s;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:e=Array.from(t),a.performDeferredSort(e,n),i=!0,o=!1,u=void 0,r.prev=5,l=e[Symbol.iterator]();case 7:if(i=(c=l.next()).done){r.next=14;break}return s=c.value,r.next=11,s;case 11:i=!0,r.next=7;break;case 14:r.next=20;break;case 16:r.prev=16,r.t0=r.catch(5),o=!0,u=r.t0;case 20:r.prev=20,r.prev=21,!i&&l.return&&l.return();case 23:if(r.prev=23,!o){r.next=26;break}throw u;case 26:return r.finish(23);case 27:return r.finish(20);case 28:case"end":return r.stop()}},r,this,[[5,16,20,28],[21,,23,27]])}return i()}},{key:"toLookup",value:function(r,t){a.validateRequiredFunction(r,"Invalid key selector."),a.validateOptionalFunction(t,"Invalid key comparer.");var n=a.normalizeComparerOrDefault(t),i=this.toIterable(),o=[],u=new e(o),l=!0,c=!1,s=void 0;try{for(var v,f=function(){var e=v.value,t=r(e),a=u.firstOrDefault(function(e){return n(e.key,t)});null==a&&(a={key:t,values:[]},o.push(a)),a.values.push(e)},d=i[Symbol.iterator]();!(l=(v=d.next()).done);l=!0)f()}catch(e){c=!0,s=e}finally{try{!l&&d.return&&d.return()}finally{if(c)throw s}}return u}},{key:"union",value:function(r,t){var n=regeneratorRuntime.mark(v);a.validateOptionalFunction(t,"Invalid comparer.");var o=null==t?null:e.normalizeComparer(t),u=a.ensureLinq(r),l=this.toIterable(),c=u.toIterable(),s=new i(o);function v(){var e,r,t,a,i,o,u,v,f,d,p,y;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:e=!0,r=!1,t=void 0,n.prev=3,a=l[Symbol.iterator]();case 5:if(e=(i=a.next()).done){n.next=15;break}if(o=i.value,s.has(o)){n.next=12;break}return s.add(o),n.next=12,o;case 12:e=!0,n.next=5;break;case 15:n.next=21;break;case 17:n.prev=17,n.t0=n.catch(3),r=!0,t=n.t0;case 21:n.prev=21,n.prev=22,!e&&a.return&&a.return();case 24:if(n.prev=24,!r){n.next=27;break}throw t;case 27:return n.finish(24);case 28:return n.finish(21);case 29:u=!0,v=!1,f=void 0,n.prev=32,d=c[Symbol.iterator]();case 34:if(u=(p=d.next()).done){n.next=44;break}if(y=p.value,s.has(y)){n.next=41;break}return s.add(y),n.next=41,y;case 41:u=!0,n.next=34;break;case 44:n.next=50;break;case 46:n.prev=46,n.t1=n.catch(32),v=!0,f=n.t1;case 50:n.prev=50,n.prev=51,!u&&d.return&&d.return();case 53:if(n.prev=53,!v){n.next=56;break}throw f;case 56:return n.finish(53);case 57:return n.finish(50);case 58:case"end":return n.stop()}},n,this,[[3,17,21,29],[22,,24,28],[32,46,50,58],[51,,53,57]])}return new e(v)}},{key:"where",value:function(r){var t=regeneratorRuntime.mark(i);a.validateRequiredFunction(r,"Invalid predicate.");var n=this.toIterable();function i(){var e,a,i,o,u,l,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0,a=!0,i=!1,o=void 0,t.prev=4,u=n[Symbol.iterator]();case 6:if(a=(l=u.next()).done){t.next=15;break}if(c=l.value,!r(c,e)){t.next=11;break}return t.next=11,c;case 11:e+=1;case 12:a=!0,t.next=6;break;case 15:t.next=21;break;case 17:t.prev=17,t.t0=t.catch(4),i=!0,o=t.t0;case 21:t.prev=21,t.prev=22,!a&&u.return&&u.return();case 24:if(t.prev=24,!i){t.next=27;break}throw o;case 27:return t.finish(24);case 28:return t.finish(21);case 29:case"end":return t.stop()}},t,this,[[4,17,21,29],[22,,24,28]])}return new e(i)}},{key:"zip",value:function(r,t){var n=regeneratorRuntime.mark(l);a.validateOptionalFunction(t,"Invalid result selector."),null==t&&(t=e.tuple);var i=a.ensureLinq(r),o=a.getIterator(this.toIterable()),u=a.getIterator(i.toIterable());function l(){var e,r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:e=o.next(),r=u.next();case 2:if(e.done||r.done){n.next=9;break}return n.next=5,t(e.value,r.value);case 5:e=o.next(),r=u.next(),n.next=2;break;case 9:case"end":return n.stop()}},n,this)}return new e(l)}},{key:"zipLongest",value:function(r,t,n,i){var o=regeneratorRuntime.mark(s);a.validateOptionalFunction(i,"Invalid result selector."),null==i&&(i=e.tuple);var u=a.ensureLinq(r),l=a.getIterator(this.toIterable()),c=a.getIterator(u.toIterable());function s(){var e,r,a,u;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:e=l.next(),r=c.next();case 2:if(e.done&&r.done){o.next=11;break}return a=e.done?t:e.value,u=r.done?n:r.value,o.next=7,i(a,u);case 7:e.done||(e=l.next()),r.done||(r=c.next()),o.next=2;break;case 11:case"end":return o.stop()}},o,this)}return new e(s)}}],[{key:"isFunction",value:function(e){return"function"==typeof e}},{key:"isArray",value:function(e){return Array.isArray(e)}},{key:"isString",value:function(e){return"string"==typeof e||e instanceof String}},{key:"isBoolean",value:function(e){return"boolean"==typeof e||e instanceof Boolean}},{key:"isNumber",value:function(e){return"number"==typeof e||e instanceof Number}},{key:"isSymbol",value:function(e){return"symbol"===(void 0===e?"undefined":r(e))}},{key:"isIterable",value:function(e){return null!=e&&"function"==typeof e[Symbol.iterator]}},{key:"isGenerator",value:function(e){return e instanceof o}},{key:"isLinq",value:function(r){return r instanceof e}},{key:"isPrimitive",value:function(r){return e.isString(r)||e.isNumber(r)||e.isBoolean(r)||e.isSymbol(r)||null===r||void 0===r}},{key:"identity",value:function(e){return e}},{key:"tuple",value:function(e,r){return[e,r]}},{key:"strictComparer",value:function(e,r){return e===r}},{key:"defaultStringComparer",value:function(r,t){return e.caseSensitiveStringComparer(r,t)}},{key:"caseSensitiveStringComparer",value:function(r,t){var n=function(e){return null==e?null:a.convertToString(e)};return e.generalComparer(n(r),n(t))}},{key:"caseInsensitiveStringComparer",value:function(r,t){var n=function(r){return e.isString(r)?r.toLowerCase():r};return e.caseSensitiveStringComparer(n(r),n(t))}},{key:"defaultStringEqualityComparer",value:function(r,t){return e.caseSensitiveStringEqualityComparer(r,t)}},{key:"caseSensitiveStringEqualityComparer",value:function(r,t){return 0===e.caseSensitiveStringComparer(r,t)}},{key:"caseInsensitiveStringEqualityComparer",value:function(r,t){return 0===e.caseInsensitiveStringComparer(r,t)}},{key:"generalComparer",value:function(e,r){return null==e&&null==r?0:null==e?-1:null==r?1:e<r?-1:e>r?1:0}},{key:"normalizeComparer",value:function(r){return function(t,n){var a=r(t,n);return e.isBoolean(a)?a:0==a}}},{key:"createProjectionComparer",value:function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null==r)throw new Error("Invalid projection.");return null==t&&(t=function(r,t){return e.generalComparer(r,t)}),function(n,a){var i=t(r(n),r(a));if(e.isBoolean(i))throw new Error("The given 'comparer' was an equality comparer instead of a comparer.");return i}}},{key:"createProjectionEqualityComparer",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null==e)throw new Error("Invalid projection.");var t=a.normalizeComparerOrDefault(r);return function(r,n){return t(e(r),e(n))}}},{key:"from",value:function(r){return null==r||a.isConstructorCompatibleSource(r)?new e(r):"undefined"!=typeof jQuery&&r instanceof jQuery?new e(r.get()):new e([r])}},{key:"range",value:function(r,t,n){var i=regeneratorRuntime.mark(u);if(!a.isValidNumber(r))throw new Error("Invalid 'from' value.");if(!a.isValidNumber(t))throw new Error("Invalid 'to' value.");if(a.isValidNumber(n)||(n=1),0==n)throw new Error("Invalid 'step' value--cannot be zero.");var o=void 0;function u(){var e;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:e=r;case 1:if(!o(e,t)){a.next=7;break}return a.next=4,e;case 4:e+=n,a.next=1;break;case 7:case"end":return a.stop()}},i,this)}return o=n>0?function(e,r){return e<=r}:function(e,r){return e>=r},new e(u)}},{key:"repeat",value:function(r,t){var n=regeneratorRuntime.mark(i);function i(){var e;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:e=0;case 1:if(!(e<t)){n.next=7;break}return n.next=4,r;case 4:e++,n.next=1;break;case 7:case"end":return n.stop()}},n,this)}return a.isValidNumber(t)||(t=1),new e(i)}},{key:"matches",value:function(r,t,n){if(null==t)throw new Error("Invalid 'pattern' value.");if(null==r)return new e;if(!e.isString(r))throw new Error("Parameter 'text' is not a string.");null==n&&(n=""),n.includes("g")||(n+="g");var a=void 0;t instanceof RegExp?(!n.includes("i")&&t.ignoreCase&&(n+="i"),!n.includes("m")&&t.multiline&&(n+="m"),a=t.source):a=t;var i=new RegExp(a,n),o=r.match(i);return new e(null==o?[]:o)}},{key:"properties",value:function(r,t,n){if(null==r)return new e;a.isStringNullOrEmpty(t)&&(t="key"),a.isStringNullOrEmpty(n)&&(n="value");return new e(Object.keys(r).map(function(e){var a={};return a[t]=e,a[n]=r[e],a}))}},{key:"empty",value:function(){return new e([])}}]),e}()});